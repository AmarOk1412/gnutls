AutoGen Definitions options;
prog-name     = gnutls-serv;
prog-title    = "GnuTLS server";
prog-desc     = "Simple server program to act as an HTTPS or TLS echo service.";
short-usage   = "Usage: gnutls-serv [options]\ngnutls-serv --help for usage instructions.\n";
prog-group    = "GnuTLS";
detail        = "Server program that listens to incoming TLS connections.";
gnu-usage;
no-misuse-usage;
disable-save;
long-opts;
config-header = 'config.h';
export = '#include <gettext.h>';

copyright = {
    date  = "2000-2012";
    owner = "Free Software Foundation";
    author = "Nikos Mavrogiannopoulos and Simon Josefsson";
    eaddr  = "bug-gnutls@gnu.org";
    type  = gpl;
};
version = "@VERSION@";

flag = {
    name      = debug;
    value     = d;
    arg-type  = number;
    arg-range = "0 -> 9999";
    descrip   = "Enable debugging";
    doc       = "";
};

flag = {
    name      = noticket;
    descrip   = "Don't accept session tickets";
    doc      = "";
};

flag = {
    name      = generate;
    value     = g;
    descrip   = "Generate Diffie-Hellman and RSA-export parameters";
    doc      = "";
};

flag = {
    name      = quiet;
    value     = q;
    descrip   = "Suppress some messages";
    doc      = "";
};

flag = {
    name      = nodb;
    descrip   = "Do not use a resumption database";
    doc      = "";
};

flag = {
    name      = http;
    descrip   = "Act as an HTTP server";
    doc      = "";
};

flag = {
    name      = echo;
    descrip   = "Act as an Echo server";
    doc      = "";
};

flag = {
    name      = udp;
    value     = u;
    descrip   = "Use DTLS (datagram TLS) over UDP";
    doc      = "";
};

flag = {
    name      = mtu;
    arg-type  = number;
    arg-range = "0->17000";
    descrip   = "Set MTU for datagram TLS";
    doc      = "";
};

flag = {
    name      = disable-client-cert;
    value     = a;
    descrip   = "Do not request a client certificate";
    doc      = "";
};

flag = {
    name      = require-client-cert;
    value     = r;
    descrip   = "Require a client certificate";
    doc      = "";
};

flag = {
    name      = x509fmtder;
    descrip   = "Use DER format for certificates to read from";
    doc      = "";
};

flag = {
    name      = priority;
    arg-type  = string;
    descrip   = "Priorities string";
    doc      = "TLS algorithms and protocols to enable. You can
use predefined sets of ciphersuites such as PERFORMANCE,
NORMAL, SECURE128, SECURE256.

Check  the  GnuTLS  manual  on  section  ``Priority strings'' for more
information on allowed keywords";
};

flag = {
    name      = dhparams;
    arg-type  = file;
    file-exists = yes;
    descrip   = "DH params file to use";
    doc      = "";
};

flag = {
    name      = x509cafile;
    arg-type  = string;
    descrip   = "Certificate file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = x509crlfile;
    arg-type  = file;
    file-exists = yes;
    descrip   = "CRL file to use";
    doc      = "";
};

flag = {
    name      = pgpkeyfile;
    arg-type  = file;
    file-exists = yes;
    descrip   = "PGP Key file to use";
    doc      = "";
};

flag = {
    name      = pgpkeyring;
    arg-type  = file;
    file-exists = yes;
    descrip   = "PGP Key ring file to use";
    doc      = "";
};

flag = {
    name      = pgpcertfile;
    arg-type  = file;
    file-exists = yes;
    descrip   = "PGP Public Key (certificate) file to use";
    doc      = "";
};

flag = {
    name      = x509keyfile;
    arg-type  = string;
    descrip   = "X.509 key file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = x509certfile;
    arg-type  = string;
    descrip   = "X.509 Certificate file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = x509dsakeyfile;
    arg-type  = string;
    descrip   = "Alternative X.509 key file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = x509dsacertfile;
    arg-type  = string;
    descrip   = "Alternative X.509 Certificate file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = x509ecckeyfile;
    arg-type  = string;
    descrip   = "Alternative X.509 key file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = x509ecccertfile;
    arg-type  = string;
    descrip   = "Alternative X.509 Certificate file or PKCS #11 URL to use";
    doc      = "";
};

flag = {
    name      = pgpsubkey;
    arg-type  = string;
    descrip   = "PGP subkey to use (hex or auto)";
    doc      = "";
};

flag = {
    name      = srppasswd;
    arg-type  = file;
    file-exists = yes;
    descrip   = "SRP password file to use";
    doc      = "";
};

flag = {
    name      = srppasswdconf;
    arg-type  = file;
    file-exists = yes;
    descrip   = "SRP password configuration file to use";
    doc      = "";
};

flag = {
    name      = pskpasswd;
    arg-type  = file;
    file-exists = yes;
    descrip   = "PSK password file to use";
    doc      = "";
};

flag = {
    name      = pskhint;
    arg-type  = string;
    descrip   = "PSK identity hint to use";
    doc      = "";
};

flag = {
    name      = port;
    value     = p;
    arg-type  = number;
    descrip   = "The port to connect to";
    doc      = "";
};

flag = {
    name      = list;
    value     = l;
    arg-type  = string;
    descrip   = "Print a list of the supported algorithms and modes";
    doc      = "Print a list of the supported algorithms and modes. If a priority string is given then only the enabled ciphersuites are shown.";
};

doc-section = {
  ds-type   = 'SEE ALSO'; // or anything else
  ds-format = 'man';      // or texi or mdoc format
  ds-text   = <<-_EOText_
gnutls-cli-debug(1), gnutls-cli(1)
_EOText_;
};
